# 8. 제어문
*"제어문(control flow statement): 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용한다."*

- 제어문은 코드의 흐름을 이해하기 어렵게 만들어 가독성을 해치는 단점을 가지고 있다.
    - 가독성이 좋지 않은 코드는 오류를 발생시키는 원인이 되며, `forEach`, `map`, `filter`, `reduce` 등과 같은 고차 함수를 사용한 함수형 프로그래밍 기법에선 제어문의 사용을 억제하여 복잡성을 해결하려 노력한다.

### 블록문 (block statement; compound statement)
- 0개 이상의 문을 중괄호로 묶은 것, 코드 블록 또는 블록이라 함
- JS는 블록문을 하나의 실행 단위로 취급한다.
    - 단독 사용 가능하나, 일반적으론 함수 정의나 제어문에 사용한다.

- 문의 끝엔 "세미콜론"을 붙이는 것이 일반적인데, 블록문은 언제나 문의 종료를 의미하는 자체 종결성을 갖고 있으므로 <p>*"블록문의 끝에는 세미콜론을 붙이지 않는다는 것에 주의해아 한다!"*</p>


### 조건문 (conditional statement)
- 주어진 조건식(conditional expression)의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다.
    - boolean 값으로 평가될 수 있는 표현식
    - `if-else`, `switch`으로 조건문을 제공함

#### if-else문
- 코드 블록 내의 statement이 하나뿐이라면 중괄호를 생략할 수 있다.
- 대부분의 `if-else`문은 삼항 조건 연산자로 바꿔 쓸 수 있다.
```jsx
if (조건식1) {
    // 조건식1 참(0이 아니면)이면 이 코드 블록이 실행됨
}
else if (조건식2) {
    // 조건식 2이 참(0이 아니면)이면 이 코드 블록이 실행됨
}
else {
    // 조건식이 거짓(0)이면 이 코드 블록이 실행됨 
}
```
- 조건에 따라 단순히 값을 결정하여 변수에 할당한다? -> "삼항 조건 연산자"
- 조건에 따라 실행해야 할 내용이 복잡하여 여러 줄의 문이 필요하다?" -> `if-else`

#### switch문
- switch문의 표현식은 boolean값보단 문자열이나 숫자 값인 경우가 많음
    - 논리적 참/거짓보단 다양한 case에 따라 실행할 코드 블록을 결정할 때 사용
```jsx
switch (표현식) {
    case 표현식1:
        switch_표현식===표현식1_이면_실행될_statement
        break;
    case 표현식2:
        switch_표현식===표현식2_이면_실행될_statement
        break;
    case 표현식3:
        switch_표현식===표현식3_이면_실행될_statement
        break;
    // ...
    default:
        switch_표현식과_일치하지_않는_case문이_없으면_실행될_statement
    }
```
- 폴 스루(fall through) : 각 case문 마다 해당되는 문 마지막에 `break`을 사용하지 않으면 발생하는 현상
    - 해결법 : `break`문을 추가해 주어야 한다.

- default문엔 `break` 문을 생략하는 것이 일반적!

- `switch`문은 `case`, `default`, `break` 등 다양한 키워드를 사용해야 하고, 폴스루가 발생하는 등 문법이 복잡하기 때문에, `if-else`로 해결할 수 있으면 `switch`말고 `if-else`를 사용하자.
    - 조건이 많아서 `if-else`문보다 `switch`문을 사용할 때 가독성이 더 좋다면 `switch`을 사용하는 것이 좋다.

### 반복문 (loop statement)
- 조건식의 경우가 참인 경우 코드 블록 실행 -> 그 후에 조건식을 다시 평가하여 여전히 참인 경우 코드 블록을 실행함
- 조건식이 거짓일 때까지 반복됨

- `for`문, `while`문, `do-while`문

<aside>
💡 반복문을 대체할 수 있는 다양한 기능

- `forEach문` : 배열을 순회할 때 사용
- `for ...in문` : 객체의 프로퍼티를 열거할 때 사용
- `for ...of문` : ES6에서 도입된 이터러블을 순회할 때 사용
</aside>

#### for문
- 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.
```jsx
for (변수_선언문_또는_할당문; 조건식; 증감식) {
    조건식이_참인_경우_반복_실행될_statement;
}
```

#### while문
- 주어진 조건식의 평가 결과가 참이면 코드 블록을 계속해서 반복 실행한다.
- while문은 조건문의 평가 결과가 거짓이 되면 코드 블록을 실행하지 않고 종료한다.
    - 만약, 조건식의 평가 결과가 불리언 값이 아니면 불리언 값으로 강제 변환하여 논리적 참/거짓을 구별한다.
```jsx
// basic syntax
while(조건문) {
    // 조건문이_true(0이 아니면)일 때까지 실행
}

// 무한 루프
while(true) { ... }
```
> `for`문은 반복 횟수가 명확할 때 사용하는데, `while`문은 반복 횟수가 불명확할 때 주로 사용한다.

#### do-while문
- 코드 블록을 먼저 실행하고 조건식을 평가한다. (한번은 무조건 실행)
```jsx
do {
    // 일단 먼저 실행한다.
} while (조건문)    // 조건문이 거짓일 때 종료
```

#### break문
- break문은 `switch`문과 `while`문에서 코드 블록을 탈출한다.
- 반복문, switch문, 레이블 문의 코드 블록 외에 `break`문을 사용하면 `SyntaxError(문법 에러)`가 발생한다.

#### continue문
- 반복문의 코드 블록 실행을 현 지점에서 중단하고, 반복문의 증감식으로 실행 흐름을 이동시킨다.
- `break` 문처럼 반복문을 탈출하지는 않는다.
- if 문 내에서 실행해야 할 코드가 한 줄이라면 `continue` 문을 사용했을 때보다 간편하고 가독성도 좋다.
    - 그러나, if문에서 실행해야 할 코드가 길다면 들여쓰기가 한 단계 더 깊어지므로, continue 문을 사용하는 편이 가독성이 더 좋다.
```jsx
// continue문을 사용하지 않으면 if문 내에 코드를 작성해야 한다.
const string = 'Hello World';
const search = 'l';
let count = 0;

for (let i = 0; i < string.length; i++) {
    // 'l'이면 카운트를 증가시킨다.
    if (string[i] === search) count++;
}

// continue 문을 사용하면 if 문 밖에 코드를 작성할 수 있다.
for (let j = 0; j < string.length; j++) {
    // 'l'이 아니면 카운트를 증가시키지 않는다.
    
    if (string[i] !== search) continue;
    
    count++;
}
```
